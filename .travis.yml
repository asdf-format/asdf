language: python

python:
  - 2.6
  - 2.7
  - 3.3

env:
  global:
    - SETUP_CMD=test

before_install:
   - sudo apt-get install -qq libatlas-dev liblapack-dev gfortran

install:
   - export PYTHONIOENCODING=UTF8 # just in case
   - pip install --upgrade numpy
   - pip install --upgrade Cython
   - if [[ $SETUP_CMD == build_sphinx* ]]; then pip -q install sphinx==1.2 --use-mirrors; fi
   - pip install git+http://github.com/astropy/astropy.git#egg=astropy
   - pip -q install --upgrade jsonschema
   - pip -q install --upgrade pyyaml

script:
   - python setup.py $SETUP_CMD
