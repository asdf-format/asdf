os: linux
language: python

# Use Travis' container-based architecture
sudo: false

addons:
  apt:
    packages:
    - graphviz
    - texlive-latex-extra
    - dvipng

matrix:
    fast_finish: true
    include:
        - python: 3.5
          env: TOXENV='py35-stable'

        - python: 3.6
          env: TOXENV='py36-stable'

        - python: 3.7
          env: TOXENV='py37-stable'

        - python: 3.8
          env: TOXENV='py38-stable'

        # Test against big-endian platform.  Currently an allowed failure due to
        # https://github.com/spacetelescope/asdf/issues/235
        - arch: s390x
          env: TOXENV='py38-stable'

    allow_failures:
        - arch: s390x
          env: TOXENV='py38-stable'

install:
    - pip install tox

script:
   - tox
